{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n/* eslint-disable */\n\n/* =========================================================\n * foundation-datepicker.js\n * Copyright 2015 Peter Beno, najlepsiwebdesigner@gmail.com, @benopeter\n * project website http://foundation-datepicker.peterbeno.com\n * ========================================================= */\n\n// This file is a modified version of the original file\n// See\n//  - https://github.com/decidim/decidim/pull/1207\n//  - https://github.com/decidim/decidim/pull/2512\n//  - https://github.com/decidim/decidim/pull/3515\n\n!function ($) {\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n  }\n  var Datepicker = function Datepicker(element, options) {\n    var that = this;\n    this.element = $(element);\n    this.autoShow = options.autoShow == undefined ? true : options.autoShow;\n    this.appendTo = options.appendTo || \"body\";\n    this.closeButton = options.closeButton;\n    this.language = options.language || this.element.data(\"date-language\") || \"en\";\n    this.language = this.language in dates ? this.language : this.language.split(\"-\")[0]; // Check if \"de-DE\" style date is available, if not language should fallback to 2 letter code eg \"de\"\n    this.language = this.language in dates ? this.language : \"en\";\n    this.isRTL = dates[this.language].rtl || false;\n    this.format = DPGlobal.parseFormat(options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\");\n    this.formatText = options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\";\n    this.isInline = false;\n    this.isInput = this.element.is(\"input\");\n    this.component = this.element.is(\".date\") ? this.element.find(\".prefix, .postfix\") : false;\n    this.hasInput = this.component && this.element.find(\"input\").length;\n    this.disableDblClickSelection = options.disableDblClickSelection;\n    this.onRender = options.onRender || function () {};\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n    this.linkField = options.linkField || this.element.data(\"link-field\") || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data(\"link-format\") || \"yyyy-mm-dd hh:ii:ss\");\n    this.minuteStep = options.minuteStep || this.element.data(\"minute-step\") || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data(\"picker-position\") || \"bottom-right\";\n    this.initialDate = options.initialDate || null;\n    this.faCSSprefix = options.faCSSprefix || \"fa\";\n    this.leftArrow = options.leftArrow || \"<i class=\\\"\".concat(this.faCSSprefix, \" \").concat(this.faCSSprefix, \"-chevron-left fi-arrow-left\\\"/>\");\n    this.rightArrow = options.rightArrow || \"<i class=\\\"\".concat(this.faCSSprefix, \" \").concat(this.faCSSprefix, \"-chevron-right fi-arrow-right\\\"/>\");\n    this.closeIcon = options.closeIcon || \"<i class=\\\"\".concat(this.faCSSprefix, \" \").concat(this.faCSSprefix, \"-remove \").concat(this.faCSSprefix, \"-times fi-x\\\"></i>\");\n    this.minView = 0;\n    if (\"minView\" in options) {\n      this.minView = options.minView;\n    } else if (\"minView\" in this.element.data()) {\n      this.minView = this.element.data(\"min-view\");\n    }\n    this.minView = DPGlobal.convertViewMode(this.minView);\n    this.maxView = DPGlobal.modes.length - 1;\n    if (\"maxView\" in options) {\n      this.maxView = options.maxView;\n    } else if (\"maxView\" in this.element.data()) {\n      this.maxView = this.element.data(\"max-view\");\n    }\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n    this.startViewMode = \"month\";\n    if (\"startView\" in options) {\n      this.startViewMode = options.startView;\n    } else if (\"startView\" in this.element.data()) {\n      this.startViewMode = this.element.data(\"start-view\");\n    }\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n    if (!(\"minView\" in options) && !(\"maxView\" in options) && !this.element.data(\"min-view\") && !this.element.data(\"max-view\")) {\n      this.pickTime = false;\n      if (\"pickTime\" in options) {\n        this.pickTime = options.pickTime;\n      }\n      if (this.pickTime == true) {\n        this.minView = 0;\n        this.maxView = 4;\n      } else {\n        this.minView = 2;\n        this.maxView = 4;\n      }\n    }\n    this.forceParse = true;\n    if (\"forceParse\" in options) {\n      this.forceParse = options.forceParse;\n    } else if (\"dateForceParse\" in this.element.data()) {\n      this.forceParse = this.element.data(\"date-force-parse\");\n    }\n    this.picker = $(DPGlobal.template(this.leftArrow, this.rightArrow, this.closeIcon)).appendTo(this.isInline ? this.element : this.appendTo).on({\n      click: $.proxy(this.click, this),\n      mousedown: $.proxy(this.mousedown, this)\n    });\n    if (this.closeButton) {\n      this.picker.find(\"a.datepicker-close\").show();\n    } else {\n      this.picker.find(\"a.datepicker-close\").hide();\n    }\n    if (this.isInline) {\n      this.picker.addClass(\"datepicker-inline\");\n    } else {\n      this.picker.addClass(\"datepicker-dropdown dropdown-menu\");\n    }\n    if (this.isRTL) {\n      this.picker.addClass(\"datepicker-rtl\");\n      this.picker.find(\".date-switch\").each(function () {\n        $(this).parent().prepend($(this).siblings(\".next\"));\n        $(this).parent().append($(this).siblings(\".prev\"));\n      });\n      this.picker.find(\".prev, .next\").toggleClass(\"prev next\");\n    }\n    $(document).on(\"mousedown\", function (e) {\n      if (that.isInput && e.target === that.element[0]) {\n        return;\n      }\n\n      // Clicked outside the datepicker, hide it\n      if ($(e.target).closest(\".datepicker.datepicker-inline, .datepicker.datepicker-dropdown\").length === 0) {\n        that.hide();\n      }\n    });\n    this.autoclose = true;\n    if (\"autoclose\" in options) {\n      this.autoclose = options.autoclose;\n    } else if (\"dateAutoclose\" in this.element.data()) {\n      this.autoclose = this.element.data(\"date-autoclose\");\n    }\n    this.keyboardNavigation = true;\n    if (\"keyboardNavigation\" in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if (\"dateKeyboardNavigation\" in this.element.data()) {\n      this.keyboardNavigation = this.element.data(\"date-keyboard-navigation\");\n    }\n    this.todayBtn = options.todayBtn || this.element.data(\"date-today-btn\") || false;\n    this.todayHighlight = options.todayHighlight || this.element.data(\"date-today-highlight\") || false;\n    this.calendarWeeks = false;\n    if (\"calendarWeeks\" in options) {\n      this.calendarWeeks = options.calendarWeeks;\n    } else if (\"dateCalendarWeeks\" in this.element.data()) {\n      this.calendarWeeks = this.element.data(\"date-calendar-weeks\");\n    }\n    if (this.calendarWeeks) {\n      this.picker.find(\"tfoot th.today\").attr(\"colspan\", function (i, val) {\n        return parseInt(val) + 1;\n      });\n    }\n    this.weekStart = (options.weekStart || this.element.data(\"date-weekstart\") || dates[this.language].weekStart || 0) % 7;\n    this.weekEnd = (this.weekStart + 6) % 7;\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.datesDisabled = [];\n    this.setStartDate(options.startDate || this.element.data(\"date-startdate\"));\n    this.setEndDate(options.endDate || this.element.data(\"date-enddate\"));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data(\"date-days-of-week-disabled\"));\n    this.setDatesDisabled(options.datesDisabled || this.element.data(\"dates-disabled\"));\n    if (this.initialDate != null) {\n      this.date = this.viewDate = DPGlobal.parseDate(this.initialDate, this.format, this.language);\n      this.setValue();\n    }\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n    this.showMode();\n    if (this.isInline) {\n      this.show();\n    }\n    this._attachEvents();\n  };\n  Datepicker.prototype = {\n    constructor: Datepicker,\n    _events: [],\n    _attachEvents: function _attachEvents() {\n      this._detachEvents();\n      if (this.isInput) {\n        // single input\n        if (!this.keyboardNavigation) {\n          this._events = [[this.element, {\n            focus: this.autoShow ? $.proxy(this.show, this) : function () {}\n          }]];\n        } else {\n          this._events = [[this.element, {\n            focus: this.autoShow ? $.proxy(this.show, this) : function () {},\n            keyup: $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this),\n            click: this.element.attr(\"readonly\") ? $.proxy(this.show, this) : function () {}\n          }]];\n        }\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [\n        // For components that are not readonly, allow keyboard nav\n        [this.element.find(\"input\"), {\n          focus: this.autoShow ? $.proxy(this.show, this) : function () {},\n          keyup: $.proxy(this.update, this),\n          keydown: $.proxy(this.keydown, this)\n        }], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n      } else if (this.element.is(\"div\")) {\n        // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this)\n        }]];\n      }\n      if (this.disableDblClickSelection) {\n        this._events[this._events.length] = [this.element, {\n          dblclick: function dblclick(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            $(this).blur();\n          }\n        }];\n      }\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n    _detachEvents: function _detachEvents() {\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n      this._events = [];\n    },\n    show: function show(e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      this.update();\n      this.place();\n      $(window).on(\"resize\", $.proxy(this.place, this));\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      this.element.trigger({\n        type: \"show\",\n        date: this.date\n      });\n    },\n    hide: function hide(e) {\n      if (this.isInline) {\n        return;\n      }\n      if (!this.picker.is(\":visible\")) {\n        return;\n      }\n      this.picker.hide();\n      $(window).off(\"resize\", this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n      if (!this.isInput) {\n        $(document).off(\"mousedown\", this.hide);\n      }\n      if (this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find(\"input\").val())) {\n        this.setValue();\n      }\n      this.element.trigger({\n        type: \"hide\",\n        date: this.date\n      });\n    },\n    remove: function remove() {\n      this._detachEvents();\n      this.picker.remove();\n      delete this.element.data().datepicker;\n    },\n    getDate: function getDate() {\n      var d = this.getUTCDate();\n      return new Date(d.getTime() + d.getTimezoneOffset() * 60000);\n    },\n    getUTCDate: function getUTCDate() {\n      return this.date;\n    },\n    setDate: function setDate(d) {\n      this.setUTCDate(new Date(d.getTime() - d.getTimezoneOffset() * 60000));\n    },\n    setUTCDate: function setUTCDate(d) {\n      this.date = d;\n      this.setValue();\n    },\n    setValue: function setValue() {\n      var formatted = this.getFormattedDate();\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find(\"input\").val(formatted);\n        }\n        this.element.data(\"date\", formatted);\n      } else {\n        this.element.val(formatted);\n      }\n    },\n    getFormattedDate: function getFormattedDate(format) {\n      if (format === undefined) {\n        format = this.format;\n      }\n      return DPGlobal.formatDate(this.date, format, this.language);\n    },\n    setStartDate: function setStartDate(startDate) {\n      this.startDate = startDate || -Infinity;\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n    setEndDate: function setEndDate(endDate) {\n      this.endDate = endDate || Infinity;\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n    setDaysOfWeekDisabled: function setDaysOfWeekDisabled(daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setDatesDisabled: function setDatesDisabled(datesDisabled) {\n      this.datesDisabled = datesDisabled || [];\n      if (!$.isArray(this.datesDisabled)) {\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\n      }\n      this.datesDisabled = $.map(this.datesDisabled, function (d) {\n        return DPGlobal.parseDate(d, this.format, this.language).valueOf();\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function place() {\n      if (this.isInline) {\n        return;\n      }\n      var zIndexes = [];\n      this.element.parents().map(function () {\n        if ($(this).css(\"z-index\") != \"auto\") {\n          zIndexes.push(parseInt($(this).css(\"z-index\")));\n        }\n      });\n      var zIndex = zIndexes.sort(function (a, b) {\n        return a - b;\n      }).pop() + 10;\n      var textbox = this.component ? this.component : this.element;\n      var offset = textbox.offset();\n      var height = textbox.outerHeight() + parseInt(textbox.css(\"margin-top\"));\n      var width = textbox.outerWidth() + parseInt(textbox.css(\"margin-left\"));\n      var fullOffsetTop = offset.top + height;\n      var offsetLeft = offset.left;\n      this.picker.removeClass(\"datepicker-top datepicker-bottom\");\n      // can we show it on top?\n      var canShowTop = $(window).scrollTop() < offset.top - this.picker.outerHeight();\n      var canShowBottom = fullOffsetTop + this.picker.outerHeight() < $(window).scrollTop() + $(window).height();\n      // If the datepicker is going to be below the window, show it on top of the input if it fits\n      if (!canShowBottom && canShowTop) {\n        fullOffsetTop = offset.top - this.picker.outerHeight();\n        this.picker.addClass(\"datepicker-top\");\n      } else {\n        // Scroll up if we cannot show it on bottom or top (for mobile devices)\n        if (!canShowBottom) {\n          $(window).scrollTop(offset.top);\n        }\n        this.picker.addClass(\"datepicker-bottom\");\n      }\n\n      // if the datepicker is going to go past the right side of the window, we want\n      // to set the right position so the datepicker lines up with the textbox\n      if (offset.left + this.picker.width() >= $(window).width()) {\n        offsetLeft = offset.left + width - this.picker.width();\n      }\n      this.picker.css({\n        top: fullOffsetTop,\n        left: offsetLeft,\n        zIndex: zIndex\n      });\n    },\n    update: function update() {\n      var date,\n        fromArgs = false;\n      var currentVal = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      if (arguments && arguments.length && (typeof arguments[0] === \"string\" || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      } else {\n        date = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      }\n      this.date = DPGlobal.parseDate(date, this.format, this.language);\n      if (fromArgs) {\n        this.setValue();\n      } else if (currentVal == \"\") {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: null\n        });\n      }\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate.valueOf());\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate.valueOf());\n      } else {\n        this.viewDate = new Date(this.date.valueOf());\n      }\n      this.fill();\n    },\n    fillDow: function fillDow() {\n      var dowCnt = this.weekStart,\n        html = \"<tr>\";\n      if (this.calendarWeeks) {\n        var cell = '<th class=\"cw\">&nbsp;</th>';\n        html += cell;\n        this.picker.find(\".datepicker-days thead tr:first-child\").prepend(cell);\n      }\n      while (dowCnt < this.weekStart + 7) {\n        html += \"<th class=\\\"dow\\\">\".concat(dates[this.language].daysMin[dowCnt++ % 7], \"</th>\");\n      }\n      html += \"</tr>\";\n      this.picker.find(\".datepicker-days thead\").append(html);\n    },\n    fillMonths: function fillMonths() {\n      var html = \"\",\n        i = 0;\n      while (i < 12) {\n        html += \"<span class=\\\"month\\\">\".concat(dates[this.language].monthsShort[i++], \"</span>\");\n      }\n      this.picker.find(\".datepicker-months td\").html(html);\n    },\n    fill: function fill() {\n      if (this.date == null || this.viewDate == null) {\n        return;\n      }\n      var d = new Date(this.viewDate.valueOf()),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        dayMonth = d.getUTCDate(),\n        hours = d.getUTCHours(),\n        minutes = d.getUTCMinutes(),\n        startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n        startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n        endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n        endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n        currentDate = this.date && UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(),\n        today = new Date(),\n        titleFormat = dates[this.language].titleFormat || dates.en.titleFormat;\n      // this.picker.find('.datepicker-days thead th.date-switch')\n      //          .text(DPGlobal.formatDate(new UTCDate(year, month), titleFormat, this.language));\n\n      this.picker.find(\".datepicker-days thead th:eq(1)\").text(\"\".concat(dates[this.language].months[month], \" \").concat(year));\n      this.picker.find(\".datepicker-hours thead th:eq(1)\").text(\"\".concat(dayMonth, \" \").concat(dates[this.language].months[month], \" \").concat(year));\n      this.picker.find(\".datepicker-minutes thead th:eq(1)\").text(\"\".concat(dayMonth, \" \").concat(dates[this.language].months[month], \" \").concat(year));\n      this.picker.find(\"tfoot th.today\").text(dates[this.language].today).toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n        day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth.valueOf());\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push(\"<tr>\");\n          if (this.calendarWeeks) {\n            // adapted from https://github.com/timrwood/moment/blob/master/moment.js#L128\n            var a = new Date(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth(), prevMonth.getUTCDate() - prevMonth.getDay() + 10 - (this.weekStart && this.weekStart % 7 < 5 && 7)),\n              b = new Date(a.getFullYear(), 0, 4),\n              calWeek = ~~((a - b) / 864e5 / 7 + 1.5);\n            html.push(\"<td class=\\\"cw\\\">\".concat(calWeek, \"</td>\"));\n          }\n        }\n        clsName = \" \".concat(this.onRender(prevMonth), \" \");\n        if (prevMonth.getUTCFullYear() < year || prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month) {\n          clsName += \" old\";\n        } else if (prevMonth.getUTCFullYear() > year || prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month) {\n          clsName += \" new\";\n        }\n        // Compare internal UTC date with local today, not UTC today\n        if (this.todayHighlight && prevMonth.getUTCFullYear() == today.getFullYear() && prevMonth.getUTCMonth() == today.getMonth() && prevMonth.getUTCDate() == today.getDate()) {\n          clsName += \" today\";\n        }\n        if (currentDate && prevMonth.valueOf() == currentDate) {\n          clsName += \" active\";\n        }\n        if (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate || $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 || $.inArray(prevMonth.valueOf(), this.datesDisabled) !== -1) {\n          clsName += \" disabled\";\n        }\n        html.push(\"<td class=\\\"day\".concat(clsName, \"\\\">\").concat(prevMonth.getUTCDate(), \"</td>\"));\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push(\"</tr>\");\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.picker.find(\".datepicker-days tbody\").empty().append(html.join(\"\"));\n      html = [];\n      for (var i = 0; i < 24; i++) {\n        var actual = UTCDate(year, month, dayMonth, i);\n        clsName = \"\";\n        // We want the previous hour for the startDate\n        if (actual.valueOf() + 3600000 < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (hours == i) {\n          clsName += \" active\";\n        }\n        html.push(\"<span class=\\\"hour\".concat(clsName, \"\\\">\").concat(i, \":00</span>\"));\n      }\n      this.picker.find(\".datepicker-hours td\").html(html.join(\"\"));\n      html = [];\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        var actual = UTCDate(year, month, dayMonth, hours, i);\n        clsName = \"\";\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n          clsName += \" active\";\n        }\n        html.push(\"<span class=\\\"minute\".concat(clsName, \"\\\">\").concat(hours, \":\").concat(i < 10 ? \"0\".concat(i) : i, \"</span>\"));\n      }\n      this.picker.find(\".datepicker-minutes td\").html(html.join(\"\"));\n      var currentYear = this.date && this.date.getUTCFullYear();\n      var months = this.picker.find(\".datepicker-months\").find(\"th:eq(1)\").text(year).end().find(\"span\").removeClass(\"active\");\n      if (currentYear && currentYear == year) {\n        months.eq(this.date.getUTCMonth()).addClass(\"active\");\n      }\n      if (year < startYear || year > endYear) {\n        months.addClass(\"disabled\");\n      }\n      if (year == startYear) {\n        months.slice(0, startMonth).addClass(\"disabled\");\n      }\n      if (year == endYear) {\n        months.slice(endMonth + 1).addClass(\"disabled\");\n      }\n      html = \"\";\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find(\".datepicker-years\").find(\"th:eq(1)\").text(\"\".concat(year, \"-\").concat(year + 9)).end().find(\"td\");\n      year -= 1;\n      for (var i = -1; i < 11; i++) {\n        html += \"<span class=\\\"year\".concat(i == -1 || i == 10 ? \" old\" : \"\").concat(currentYear == year ? \" active\" : \"\").concat(year < startYear || year > endYear ? \" disabled\" : \"\", \"\\\">\").concat(year, \"</span>\");\n        year += 1;\n      }\n      yearCont.html(html);\n    },\n    updateNavArrows: function updateNavArrows() {\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        day = d.getUTCDate(),\n        hour = d.getUTCHours();\n      switch (this.viewMode) {\n        case 0:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate() && hour <= this.startDate.getUTCHours()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n          break;\n        case 1:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n          break;\n        case 2:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n          break;\n        case 3:\n        case 4:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n            this.picker.find(\".prev\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".prev\").css({\n              visibility: \"visible\"\n            });\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n            this.picker.find(\".next\").css({\n              visibility: \"hidden\"\n            });\n          } else {\n            this.picker.find(\".next\").css({\n              visibility: \"visible\"\n            });\n          }\n          break;\n      }\n    },\n    click: function click(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      if ($(e.target).hasClass(\"datepicker-close\") || $(e.target).parent().hasClass(\"datepicker-close\")) {\n        this.hide();\n      }\n      var target = $(e.target).closest(\"span, td, th\");\n      if (target.length == 1) {\n        if (target.is(\".disabled\")) {\n          this.element.trigger({\n            type: \"outOfRange\",\n            date: this.viewDate,\n            startDate: this.startDate,\n            endDate: this.endDate\n          });\n          return;\n        }\n        switch (target[0].nodeName.toLowerCase()) {\n          case \"th\":\n            switch (target[0].className) {\n              case \"date-switch\":\n                this.showMode(1);\n                break;\n              case \"prev\":\n              case \"next\":\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == \"prev\" ? -1 : 1);\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveHour(this.viewDate, dir);\n                    break;\n                  case 1:\n                    this.viewDate = this.moveDate(this.viewDate, dir);\n                    break;\n                  case 2:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    break;\n                  case 3:\n                  case 4:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    break;\n                }\n                this.fill();\n                break;\n              case \"today\":\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n                this.viewMode = this.startViewMode;\n                this.showMode(0);\n                this._setDate(date);\n                break;\n            }\n            break;\n          case \"span\":\n            if (!target.is(\".disabled\")) {\n              if (target.is(\".month\")) {\n                if (this.minView === 3) {\n                  var month = target.parent().find(\"span\").index(target) || 0;\n                  var year = this.viewDate.getUTCFullYear(),\n                    day = 1,\n                    hours = this.viewDate.getUTCHours(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                } else {\n                  this.viewDate.setUTCDate(1);\n                  var month = target.parent().find(\"span\").index(target);\n                  this.viewDate.setUTCMonth(month);\n                  this.element.trigger({\n                    type: \"changeMonth\",\n                    date: this.viewDate\n                  });\n                }\n              } else if (target.is(\".year\")) {\n                if (this.minView === 4) {\n                  var year = parseInt(target.text(), 10) || 0;\n                  var month = 0,\n                    day = 1,\n                    hours = this.viewDate.getUTCHours(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                } else {\n                  this.viewDate.setUTCDate(1);\n                  var year = parseInt(target.text(), 10) || 0;\n                  this.viewDate.setUTCFullYear(year);\n                  this.element.trigger({\n                    type: \"changeYear\",\n                    date: this.viewDate\n                  });\n                }\n              } else if (target.is(\".hour\")) {\n                var hours = parseInt(target.text(), 10) || 0;\n                var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  minutes = this.viewDate.getUTCMinutes(),\n                  seconds = this.viewDate.getUTCSeconds();\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              } else if (target.is(\".minute\")) {\n                var minutes = parseInt(target.text().substr(target.text().indexOf(\":\") + 1), 10) || 0;\n                var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  hours = this.viewDate.getUTCHours(),\n                  seconds = this.viewDate.getUTCSeconds();\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              }\n              if (this.viewMode != 0) {\n                var oldViewMode = this.viewMode;\n                this.showMode(-1);\n                this.fill();\n                if (oldViewMode == this.viewMode && this.autoclose) {\n                  this.hide();\n                }\n              } else {\n                this.fill();\n                if (this.autoclose) {\n                  this.hide();\n                }\n              }\n            }\n            break;\n          case \"td\":\n            if (target.is(\".day\") && !target.is(\".disabled\")) {\n              var day = parseInt(target.text(), 10) || 1;\n              var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n              if (target.is(\".old\")) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is(\".new\")) {\n                if (month == 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n              this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n            }\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n            if (oldViewMode == this.viewMode && this.autoclose) {\n              this.hide();\n            }\n            break;\n        }\n      }\n    },\n    _setDate: function _setDate(date, which) {\n      if (!which || which == \"date\") {\n        this.date = date;\n      }\n      if (!which || which == \"view\") {\n        this.viewDate = date;\n      }\n      this.fill();\n      this.setValue();\n      this.element.trigger({\n        type: \"changeDate\",\n        date: this.date\n      });\n      var element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find(\"input\");\n      }\n      if (element) {\n        element.change();\n        if (this.autoclose && (!which || which == \"date\")) {\n          // this.hide();\n        }\n      }\n    },\n    moveHour: function moveHour(date, dir) {\n      if (!dir) {\n        return date;\n      }\n      var new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n    moveDate: function moveDate(date, dir) {\n      if (!dir) {\n        return date;\n      }\n      var new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n    moveMonth: function moveMonth(date, dir) {\n      if (!dir) {\n        return date;\n      }\n      var new_date = new Date(date.valueOf()),\n        day = new_date.getUTCDate(),\n        month = new_date.getUTCMonth(),\n        mag = Math.abs(dir),\n        new_month,\n        test;\n      dir = dir > 0 ? 1 : -1;\n      if (mag == 1) {\n        test = dir == -1\n        // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() == month;\n        }\n        // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() != new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month);\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n        if (new_month < 0 || new_month > 11) {\n          new_month = (new_month + 12) % 12;\n        }\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++)\n        // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n        {\n          new_date = this.moveMonth(new_date, dir);\n        }\n        // ...then reset the day, keeping it in the new month\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n        test = function test() {\n          return new_month != new_date.getUTCMonth();\n        };\n      }\n      // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n      return new_date;\n    },\n    moveYear: function moveYear(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    dateWithinRange: function dateWithinRange(date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n    keydown: function keydown(e) {\n      if (!this.keyboardNavigation) {\n        return true;\n      }\n      if (this.picker.is(\":not(:visible)\")) {\n        if (e.keyCode == 27)\n          // allow escape to hide and re-show picker\n          {\n            this.show();\n          }\n        return;\n      }\n      var dateChanged = false,\n        day,\n        dir,\n        month,\n        newDate,\n        newViewDate;\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          this.hide();\n          e.preventDefault();\n          break;\n        case 37: // left\n        case 39:\n          // right\n          if (!this.keyboardNavigation) {\n            break;\n          }\n          dir = e.keyCode == 37 ? -1 : 1;\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else {\n            newDate = new Date(this.date.valueOf());\n            newDate.setUTCDate(this.date.getUTCDate() + dir);\n            newViewDate = new Date(this.viewDate.valueOf());\n            newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n          break;\n        case 38: // up\n        case 40:\n          // down\n          if (!this.keyboardNavigation) {\n            break;\n          }\n          dir = e.keyCode == 38 ? -1 : 1;\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else {\n            newDate = new Date(this.date.valueOf());\n            newDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n            newViewDate = new Date(this.viewDate.valueOf());\n            newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n          break;\n        case 13:\n          // enter\n          this.hide();\n          e.preventDefault();\n          break;\n        case 9:\n          // tab\n          this.hide();\n          break;\n      }\n      if (dateChanged) {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: this.date\n        });\n        var element;\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find(\"input\");\n        }\n        if (element) {\n          element.change();\n        }\n      }\n    },\n    showMode: function showMode(dir) {\n      if (dir) {\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.viewMode = newViewMode;\n        }\n      }\n\n      /*\n                vitalets: fixing bug of very special conditions:\n                jquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n                Method show() does not set display css correctly and datepicker is not shown.\n                Changed to .css('display', 'block') solve the problem.\n                See https://github.com/vitalets/x-editable/issues/37\n                 In jquery 1.7.2+ everything works fine.\n            */\n      // this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n      this.picker.find(\">div\").hide().filter(\".datepicker-\".concat(DPGlobal.modes[this.viewMode].clsName)).css(\"display\", \"block\");\n      this.updateNavArrows();\n    },\n    changeViewDate: function changeViewDate(date) {\n      this.date = date;\n      this.viewDate = date;\n      this.fill();\n    },\n    reset: function reset(e) {\n      this._setDate(null, \"date\");\n    }\n  };\n  $.fn.fdatepicker = function (option) {\n    var args = Array.apply(void 0, arguments);\n    args.shift();\n    return this.each(function () {\n      var $this = $(this),\n        data = $this.data(\"datepicker\"),\n        options = _typeof(option) === \"object\" && option;\n      if (!data) {\n        $this.data(\"datepicker\", data = new Datepicker(this, $.extend({}, $.fn.fdatepicker.defaults, options)));\n      }\n      if (typeof option === \"string\" && typeof data[option] === \"function\") {\n        var _data;\n        (_data = data)[option].apply(_data, _toConsumableArray(args));\n      }\n    });\n  };\n  $.fn.fdatepicker.defaults = {\n    onRender: function onRender(date) {\n      return \"\";\n    }\n  };\n  $.fn.fdatepicker.Constructor = Datepicker;\n  var dates = $.fn.fdatepicker.dates = {\n    \"en\": {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      titleFormat: \"MM yyyy\"\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: \"minutes\",\n      navFnc: \"Hours\",\n      navStep: 1\n    }, {\n      clsName: \"hours\",\n      navFnc: \"Date\",\n      navStep: 1\n    }, {\n      clsName: \"days\",\n      navFnc: \"Month\",\n      navStep: 1\n    }, {\n      clsName: \"months\",\n      navFnc: \"FullYear\",\n      navStep: 1\n    }, {\n      clsName: \"years\",\n      navFnc: \"FullYear\",\n      navStep: 10\n    }],\n    isLeapYear: function isLeapYear(year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function getDaysInMonth(year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function parseFormat(format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts, \"\\0\").split(\"\\0\"),\n        parts = format.match(this.validParts);\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n      this.formatText = format;\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function parseDate(date, format, language) {\n      if (date instanceof Date) {\n        return new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd\");\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii\");\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii:ss\");\n      }\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n          parts = date.match(/([-+]\\d+)([dmwy])/g),\n          part,\n          dir;\n        date = new Date();\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          switch (part[2]) {\n            case \"d\":\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n            case \"m\":\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n              break;\n            case \"w\":\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n            case \"y\":\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n              break;\n          }\n        }\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n      }\n      var parts = date && date.match(this.nonpunctuation) || [],\n        date = new Date(),\n        parsed = {},\n        setters_order = [\"hh\", \"h\", \"ii\", \"i\", \"ss\", \"s\", \"yyyy\", \"yy\", \"M\", \"MM\", \"m\", \"mm\", \"d\", \"dd\"],\n        setters_map = {\n          hh: function hh(d, v) {\n            return d.setUTCHours(v);\n          },\n          h: function h(d, v) {\n            return d.setUTCHours(v);\n          },\n          ii: function ii(d, v) {\n            return d.setUTCMinutes(v);\n          },\n          i: function i(d, v) {\n            return d.setUTCMinutes(v);\n          },\n          ss: function ss(d, v) {\n            return d.setUTCSeconds(v);\n          },\n          s: function s(d, v) {\n            return d.setUTCSeconds(v);\n          },\n          yyyy: function yyyy(d, v) {\n            return d.setUTCFullYear(v);\n          },\n          yy: function yy(d, v) {\n            return d.setUTCFullYear(2000 + v);\n          },\n          m: function m(d, v) {\n            v -= 1;\n            while (v < 0) {\n              v += 12;\n            }\n            v %= 12;\n            d.setUTCMonth(v);\n            while (d.getUTCMonth() != v) {\n              d.setUTCDate(d.getUTCDate() - 1);\n            }\n            return d;\n          },\n          d: function d(_d, v) {\n            return _d.setUTCDate(v);\n          }\n        },\n        val,\n        filtered,\n        part;\n      setters_map.M = setters_map.MM = setters_map.mm = setters_map.m;\n      setters_map.dd = setters_map.d;\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0); // date.getHours(), date.getMinutes(), date.getSeconds());\n      if (parts.length == format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n          if (isNaN(val)) {\n            switch (part) {\n              case \"MM\":\n                filtered = $(dates[language].months).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n              case \"M\":\n                filtered = $(dates[language].monthsShort).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n            }\n          }\n          parsed[part] = val;\n        }\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s])) {\n            setters_map[s](date, parsed[s]);\n          }\n        }\n      }\n      return date;\n    },\n    formatDate: function formatDate(date, format, language) {\n      if (date == null) {\n        return \"\";\n      }\n      var val = {\n        h: date.getUTCHours(),\n        i: date.getUTCMinutes(),\n        s: date.getUTCSeconds(),\n        d: date.getUTCDate(),\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.hh = (val.h < 10 ? \"0\" : \"\") + val.h;\n      val.ii = (val.i < 10 ? \"0\" : \"\") + val.i;\n      val.ss = (val.s < 10 ? \"0\" : \"\") + val.s;\n      val.dd = (val.d < 10 ? \"0\" : \"\") + val.d;\n      val.mm = (val.m < 10 ? \"0\" : \"\") + val.m;\n      var date = [],\n        seps = $.extend([], format.separators);\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length) {\n          date.push(seps.shift());\n        }\n        date.push(val[format.parts[i]]);\n      }\n      return date.join(\"\");\n    },\n    convertViewMode: function convertViewMode(viewMode) {\n      switch (viewMode) {\n        case 4:\n        case \"decade\":\n          viewMode = 4;\n          break;\n        case 3:\n        case \"year\":\n          viewMode = 3;\n          break;\n        case 2:\n        case \"month\":\n          viewMode = 2;\n          break;\n        case 1:\n        case \"day\":\n          viewMode = 1;\n          break;\n        case 0:\n        case \"hour\":\n          viewMode = 0;\n          break;\n      }\n      return viewMode;\n    },\n    headTemplate: function headTemplate(leftArrow, rightArrow) {\n      return \"\".concat(\"<thead>\" + \"<tr>\" + '<th class=\"prev\">').concat(leftArrow, \"</th>\") + \"<th colspan=\\\"5\\\" class=\\\"date-switch\\\"></th>\" + \"<th class=\\\"next\\\">\".concat(rightArrow, \"</th>\") + \"</tr>\" + \"</thead>\";\n    },\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n  DPGlobal.template = function (leftArrow, rightArrow, closeIcon) {\n    return \"\".concat('<div class=\"datepicker\">' + '<div class=\"datepicker-minutes\">' + '<table class=\" table-condensed\">').concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-hours\\\">\" + \"<table class=\\\" table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-days\\\">\" + \"<table class=\\\" table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow), \"<tbody></tbody>\").concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-months\\\">\" + \"<table class=\\\"table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<div class=\\\"datepicker-years\\\">\" + \"<table class=\\\"table-condensed\\\">\".concat(DPGlobal.headTemplate(leftArrow, rightArrow)).concat(DPGlobal.contTemplate).concat(DPGlobal.footTemplate, \"</table>\") + \"</div>\" + \"<a class=\\\"button datepicker-close tiny alert right\\\" style=\\\"width:auto;\\\">\".concat(closeIcon, \"</a>\") + \"</div>\";\n  };\n  $.fn.fdatepicker.DPGlobal = DPGlobal;\n}(window.jQuery);","map":{"version":3,"mappings":"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","names":["$","UTCDate","Date","UTC","arguments","UTCToday","today","getUTCFullYear","getUTCMonth","getUTCDate","Datepicker","element","options","that","autoShow","undefined","appendTo","closeButton","language","data","dates","split","isRTL","rtl","format","DPGlobal","parseFormat","formatText","isInline","isInput","is","component","find","hasInput","length","disableDblClickSelection","onRender","linkField","linkFormat","minuteStep","pickerPosition","initialDate","faCSSprefix","leftArrow","rightArrow","closeIcon","minView","convertViewMode","maxView","modes","startViewMode","startView","viewMode","pickTime","forceParse","picker","template","on","click","proxy","mousedown","show","hide","addClass","each","parent","prepend","siblings","append","toggleClass","document","e","target","closest","autoclose","keyboardNavigation","todayBtn","todayHighlight","calendarWeeks","attr","i","val","parseInt","weekStart","weekEnd","startDate","Infinity","endDate","daysOfWeekDisabled","datesDisabled","setStartDate","setEndDate","setDaysOfWeekDisabled","setDatesDisabled","date","viewDate","parseDate","setValue","fillDow","fillMonths","update","showMode","_attachEvents","prototype","constructor","_events","_detachEvents","focus","keyup","keydown","dblclick","preventDefault","stopPropagation","blur","el","ev","off","height","outerHeight","place","window","trigger","type","remove","datepicker","getDate","d","getTime","getTimezoneOffset","setDate","setUTCDate","formatted","getFormattedDate","formatDate","updateNavArrows","isArray","map","valueOf","zIndexes","parents","css","push","zIndex","sort","a","b","pop","textbox","offset","width","outerWidth","fullOffsetTop","top","offsetLeft","left","removeClass","canShowTop","scrollTop","canShowBottom","fromArgs","currentVal","fill","dowCnt","html","cell","daysMin","monthsShort","year","month","dayMonth","hours","getUTCHours","minutes","getUTCMinutes","startYear","startMonth","endYear","endMonth","currentDate","titleFormat","en","text","months","toggle","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","clsName","getDay","getFullYear","calWeek","getMonth","inArray","empty","join","actual","Math","floor","currentYear","end","eq","slice","yearCont","hour","visibility","hasClass","nodeName","toLowerCase","className","dir","navStep","moveHour","moveDate","moveMonth","moveYear","getHours","getMinutes","getSeconds","_setDate","index","seconds","getUTCSeconds","setUTCMonth","setUTCFullYear","substr","indexOf","oldViewMode","which","change","new_date","setUTCHours","mag","abs","new_month","test","dateWithinRange","keyCode","dateChanged","newDate","newViewDate","ctrlKey","shiftKey","newViewMode","max","min","filter","changeViewDate","reset","fn","fdatepicker","option","args","Array","shift","$this","_typeof","extend","defaults","Constructor","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","separators","replace","parts","match","Error","part_re","part","exec","Datetimepicker","call","parsed","setters_order","setters_map","hh","v","h","ii","setUTCMinutes","ss","setUTCSeconds","s","yyyy","yy","m","filtered","M","MM","mm","dd","cnt","isNaN","p","toString","substring","seps","headTemplate","contTemplate","footTemplate","jQuery"],"sources":["/home/alan/.rvm/gems/ruby-3.0.3/gems/decidim-core-0.27.0/app/packs/src/decidim/vendor/foundation-datepicker.js"],"sourcesContent":["/* eslint-disable */\n\n/* =========================================================\n * foundation-datepicker.js\n * Copyright 2015 Peter Beno, najlepsiwebdesigner@gmail.com, @benopeter\n * project website http://foundation-datepicker.peterbeno.com\n * ========================================================= */\n\n// This file is a modified version of the original file\n// See\n//  - https://github.com/decidim/decidim/pull/1207\n//  - https://github.com/decidim/decidim/pull/2512\n//  - https://github.com/decidim/decidim/pull/3515\n\n!(function($) {\n\n  function UTCDate() {\n    return new Date(Date.UTC(...arguments));\n  }\n\n  function UTCToday() {\n    let today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n  }\n\n  let Datepicker = function(element, options) {\n    let that = this;\n\n    this.element = $(element);\n    this.autoShow = (options.autoShow == undefined ? true : options.autoShow);\n    this.appendTo = options.appendTo || \"body\";\n    this.closeButton = options.closeButton;\n    this.language = options.language || this.element.data(\"date-language\") || \"en\";\n    this.language = this.language in dates ? this.language : this.language.split(\"-\")[0]; // Check if \"de-DE\" style date is available, if not language should fallback to 2 letter code eg \"de\"\n    this.language = this.language in dates ? this.language : \"en\";\n    this.isRTL = dates[this.language].rtl || false;\n    this.format = DPGlobal.parseFormat(options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\");\n    this.formatText = options.format || this.element.data(\"date-format\") || dates[this.language].format || \"mm/dd/yyyy\";\n    this.isInline = false;\n    this.isInput = this.element.is(\"input\");\n    this.component = this.element.is(\".date\") ? this.element.find(\".prefix, .postfix\") : false;\n    this.hasInput = this.component && this.element.find(\"input\").length;\n    this.disableDblClickSelection = options.disableDblClickSelection;\n    this.onRender = options.onRender || function() {};\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n    this.linkField = options.linkField || this.element.data(\"link-field\") || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data(\"link-format\") || \"yyyy-mm-dd hh:ii:ss\");\n    this.minuteStep = options.minuteStep || this.element.data(\"minute-step\") || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data(\"picker-position\") || \"bottom-right\";\n    this.initialDate = options.initialDate || null;\n    this.faCSSprefix = options.faCSSprefix || \"fa\";\n    this.leftArrow = options.leftArrow || `<i class=\"${this.faCSSprefix} ${this.faCSSprefix}-chevron-left fi-arrow-left\"/>`;\n    this.rightArrow = options.rightArrow || `<i class=\"${this.faCSSprefix} ${this.faCSSprefix}-chevron-right fi-arrow-right\"/>`;\n    this.closeIcon = options.closeIcon || `<i class=\"${this.faCSSprefix} ${this.faCSSprefix}-remove ${this.faCSSprefix}-times fi-x\"></i>`;\n\n\n    this.minView = 0;\n    if (\"minView\" in options) {\n      this.minView = options.minView;\n    } else if (\"minView\" in this.element.data()) {\n      this.minView = this.element.data(\"min-view\");\n    }\n    this.minView = DPGlobal.convertViewMode(this.minView);\n\n    this.maxView = DPGlobal.modes.length - 1;\n    if (\"maxView\" in options) {\n      this.maxView = options.maxView;\n    } else if (\"maxView\" in this.element.data()) {\n      this.maxView = this.element.data(\"max-view\");\n    }\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n\n    this.startViewMode = \"month\";\n    if (\"startView\" in options) {\n      this.startViewMode = options.startView;\n    } else if (\"startView\" in this.element.data()) {\n      this.startViewMode = this.element.data(\"start-view\");\n    }\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n\n    if (!(\"minView\" in options) && !(\"maxView\" in options) && !(this.element.data(\"min-view\")) && !(this.element.data(\"max-view\"))) {\n      this.pickTime = false;\n      if (\"pickTime\" in options) {\n        this.pickTime = options.pickTime;\n      }\n      if (this.pickTime == true) {\n        this.minView = 0;\n        this.maxView = 4;\n      } else {\n        this.minView = 2;\n        this.maxView = 4;\n      }\n    }\n\n    this.forceParse = true;\n    if (\"forceParse\" in options) {\n      this.forceParse = options.forceParse;\n    } else if (\"dateForceParse\" in this.element.data()) {\n      this.forceParse = this.element.data(\"date-force-parse\");\n    }\n\n\n    this.picker = $(DPGlobal.template(this.leftArrow, this.rightArrow, this.closeIcon)).\n      appendTo(this.isInline ? this.element : this.appendTo).\n      on({\n        click: $.proxy(this.click, this),\n        mousedown: $.proxy(this.mousedown, this)\n      });\n    if (this.closeButton) {\n      this.picker.find(\"a.datepicker-close\").show();\n    } else {\n      this.picker.find(\"a.datepicker-close\").hide();\n    }\n\n    if (this.isInline) {\n      this.picker.addClass(\"datepicker-inline\");\n    } else {\n      this.picker.addClass(\"datepicker-dropdown dropdown-menu\");\n    }\n    if (this.isRTL) {\n      this.picker.addClass(\"datepicker-rtl\");\n\n      this.picker.find(\".date-switch\").each(function() {\n        $(this).parent().prepend($(this).siblings(\".next\"));\n        $(this).parent().append($(this).siblings(\".prev\"));\n      })\n      this.picker.find(\".prev, .next\").toggleClass(\"prev next\");\n\n    }\n    $(document).on(\"mousedown\", function(e) {\n      if (that.isInput && e.target === that.element[0]) {\n        return;\n      }\n\n      // Clicked outside the datepicker, hide it\n      if ($(e.target).closest(\".datepicker.datepicker-inline, .datepicker.datepicker-dropdown\").length === 0) {\n        that.hide();\n      }\n    });\n\n    this.autoclose = true;\n    if (\"autoclose\" in options) {\n      this.autoclose = options.autoclose;\n    } else if (\"dateAutoclose\" in this.element.data()) {\n      this.autoclose = this.element.data(\"date-autoclose\");\n    }\n\n    this.keyboardNavigation = true;\n    if (\"keyboardNavigation\" in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if (\"dateKeyboardNavigation\" in this.element.data()) {\n      this.keyboardNavigation = this.element.data(\"date-keyboard-navigation\");\n    }\n\n    this.todayBtn = (options.todayBtn || this.element.data(\"date-today-btn\") || false);\n    this.todayHighlight = (options.todayHighlight || this.element.data(\"date-today-highlight\") || false);\n\n    this.calendarWeeks = false;\n    if (\"calendarWeeks\" in options) {\n      this.calendarWeeks = options.calendarWeeks;\n    } else if (\"dateCalendarWeeks\" in this.element.data()) {\n      this.calendarWeeks = this.element.data(\"date-calendar-weeks\");\n    }\n    if (this.calendarWeeks)\n    {this.picker.find(\"tfoot th.today\").\n      attr(\"colspan\", function(i, val) {\n        return parseInt(val) + 1;\n      });}\n\n    this.weekStart = ((options.weekStart || this.element.data(\"date-weekstart\") || dates[this.language].weekStart || 0) % 7);\n    this.weekEnd = ((this.weekStart + 6) % 7);\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.datesDisabled = [];\n    this.setStartDate(options.startDate || this.element.data(\"date-startdate\"));\n    this.setEndDate(options.endDate || this.element.data(\"date-enddate\"));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data(\"date-days-of-week-disabled\"));\n    this.setDatesDisabled(options.datesDisabled || this.element.data(\"dates-disabled\"));\n\n    if (this.initialDate != null) {\n      this.date = this.viewDate = DPGlobal.parseDate(this.initialDate, this.format, this.language);\n      this.setValue();\n    }\n\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n\n    this._attachEvents();\n  };\n\n  Datepicker.prototype = {\n    constructor: Datepicker,\n\n    _events: [],\n    _attachEvents: function() {\n      this._detachEvents();\n      if (this.isInput) { // single input\n        if (!this.keyboardNavigation) {\n          this._events = [\n            [this.element, {\n              focus: (this.autoShow) ? $.proxy(this.show, this) : function() {}\n            }]\n          ];\n        } else {\n          this._events = [\n            [this.element, {\n              focus: (this.autoShow) ? $.proxy(this.show, this) : function() {},\n              keyup: $.proxy(this.update, this),\n              keydown: $.proxy(this.keydown, this),\n              click: (this.element.attr(\"readonly\")) ? $.proxy(this.show, this) : function() {}\n            }]\n          ];\n        }\n      }\n      else if (this.component && this.hasInput) { // component: input + button\n        this._events = [\n          // For components that are not readonly, allow keyboard nav\n          [this.element.find(\"input\"), {\n            focus: (this.autoShow) ? $.proxy(this.show, this) : function() {},\n            keyup: $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this)\n          }],\n          [this.component, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n      } else if (this.element.is(\"div\")) { // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [\n          [this.element, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n      }\n\n      if (this.disableDblClickSelection) {\n        this._events[this._events.length] = [\n          this.element, {\n            dblclick: function(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              $(this).blur()\n            }\n          }\n        ];\n      }\n\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n    _detachEvents: function() {\n      for (var el, ev, i = 0; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n      this._events = [];\n    },\n\n    show: function(e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      this.update();\n      this.place();\n      $(window).on(\"resize\", $.proxy(this.place, this));\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      this.element.trigger({\n        type: \"show\",\n        date: this.date\n      });\n    },\n\n    hide: function(e) {\n      if (this.isInline) {return;}\n      if (!this.picker.is(\":visible\")) {return;}\n      this.picker.hide();\n      $(window).off(\"resize\", this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n      if (!this.isInput) {\n        $(document).off(\"mousedown\", this.hide);\n      }\n\n      if (\n        this.forceParse &&\n                (\n                  this.isInput && this.element.val() ||\n                    this.hasInput && this.element.find(\"input\").val()\n                )\n      )\n      {this.setValue();}\n      this.element.trigger({\n        type: \"hide\",\n        date: this.date\n      });\n    },\n\n    remove: function() {\n      this._detachEvents();\n      this.picker.remove();\n      delete this.element.data().datepicker;\n    },\n\n    getDate: function() {\n      let d = this.getUTCDate();\n      return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\n    },\n\n    getUTCDate: function() {\n      return this.date;\n    },\n\n    setDate: function(d) {\n      this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\n    },\n\n    setUTCDate: function(d) {\n      this.date = d;\n      this.setValue();\n    },\n\n    setValue: function() {\n      let formatted = this.getFormattedDate();\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find(\"input\").val(formatted);\n        }\n        this.element.data(\"date\", formatted);\n      } else {\n        this.element.val(formatted);\n      }\n    },\n\n    getFormattedDate: function(format) {\n      if (format === undefined)\n      {format = this.format;}\n      return DPGlobal.formatDate(this.date, format, this.language);\n    },\n\n    setStartDate: function(startDate) {\n      this.startDate = startDate || -Infinity;\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setEndDate: function(endDate) {\n      this.endDate = endDate || Infinity;\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setDaysOfWeekDisabled: function(daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function(d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setDatesDisabled: function(datesDisabled) {\n      this.datesDisabled = datesDisabled || [];\n      if (!$.isArray(this.datesDisabled)) {\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\n      }\n      this.datesDisabled = $.map(this.datesDisabled, function(d) {\n        return DPGlobal.parseDate(d, this.format, this.language).valueOf();\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    place: function() {\n      if (this.isInline) {return;}\n      let zIndexes = [];\n      this.element.parents().map(function() {\n        if ($(this).css(\"z-index\") != \"auto\") {\n          zIndexes.push(parseInt($(this).css(\"z-index\")));\n        }\n      });\n      let zIndex = zIndexes.sort(function(a, b) { return a - b; }).pop() + 10;\n      let textbox = this.component ? this.component : this.element;\n      let offset = textbox.offset();\n      let height = textbox.outerHeight() + parseInt(textbox.css(\"margin-top\"));\n      let width = textbox.outerWidth() + parseInt(textbox.css(\"margin-left\"));\n      let fullOffsetTop = offset.top + height;\n      let offsetLeft = offset.left;\n      this.picker.removeClass(\"datepicker-top datepicker-bottom\");\n      // can we show it on top?\n      let canShowTop = ($(window).scrollTop() < offset.top - this.picker.outerHeight());\n      let canShowBottom = (fullOffsetTop + this.picker.outerHeight()) < $(window).scrollTop() + $(window).height();\n      // If the datepicker is going to be below the window, show it on top of the input if it fits\n      if (!canShowBottom && canShowTop) {\n        fullOffsetTop = offset.top - this.picker.outerHeight();\n        this.picker.addClass(\"datepicker-top\");\n      }\n      else {\n        // Scroll up if we cannot show it on bottom or top (for mobile devices)\n        if (!canShowBottom) {$(window).scrollTop(offset.top);}\n        this.picker.addClass(\"datepicker-bottom\");\n      }\n\n      // if the datepicker is going to go past the right side of the window, we want\n      // to set the right position so the datepicker lines up with the textbox\n      if (offset.left + this.picker.width() >= $(window).width()) {\n        offsetLeft = (offset.left + width) - this.picker.width();\n      }\n      this.picker.css({\n        top: fullOffsetTop,\n        left: offsetLeft,\n        zIndex: zIndex\n      });\n    },\n\n    update: function() {\n      let date,\n          fromArgs = false;\n      let currentVal = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      if (arguments && arguments.length && (typeof arguments[0] === \"string\" || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      }\n      else {\n        date = this.isInput ? this.element.val() : this.element.data(\"date\") || this.element.find(\"input\").val();\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language);\n\n      if (fromArgs) {\n        this.setValue();\n      } else if (currentVal == \"\") {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: null\n        });\n      }\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate.valueOf());\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate.valueOf());\n      } else {\n        this.viewDate = new Date(this.date.valueOf());\n      }\n      this.fill();\n    },\n\n    fillDow: function() {\n      let dowCnt = this.weekStart,\n          html = \"<tr>\";\n      if (this.calendarWeeks) {\n        let cell = '<th class=\"cw\">&nbsp;</th>';\n        html += cell;\n        this.picker.find(\".datepicker-days thead tr:first-child\").prepend(cell);\n      }\n      while (dowCnt < this.weekStart + 7) {\n        html += `<th class=\"dow\">${dates[this.language].daysMin[(dowCnt++) % 7]}</th>`;\n      }\n      html += \"</tr>\";\n      this.picker.find(\".datepicker-days thead\").append(html);\n    },\n\n    fillMonths: function() {\n      let html = \"\",\n          i = 0;\n      while (i < 12) {\n        html += `<span class=\"month\">${dates[this.language].monthsShort[i++]}</span>`;\n      }\n      this.picker.find(\".datepicker-months td\").html(html);\n    },\n\n    fill: function() {\n      if (this.date == null || this.viewDate == null) {\n        return;\n      }\n\n      let d = new Date(this.viewDate.valueOf()),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          dayMonth = d.getUTCDate(),\n          hours = d.getUTCHours(),\n          minutes = d.getUTCMinutes(),\n          startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n          startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n          endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n          endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n          currentDate = this.date && UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(),\n          today = new Date(),\n          titleFormat = dates[this.language].titleFormat || dates.en.titleFormat;\n      // this.picker.find('.datepicker-days thead th.date-switch')\n      //          .text(DPGlobal.formatDate(new UTCDate(year, month), titleFormat, this.language));\n\n      this.picker.find(\".datepicker-days thead th:eq(1)\").\n        text(`${dates[this.language].months[month]} ${year}`);\n      this.picker.find(\".datepicker-hours thead th:eq(1)\").\n        text(`${dayMonth} ${dates[this.language].months[month]} ${year}`);\n      this.picker.find(\".datepicker-minutes thead th:eq(1)\").\n        text(`${dayMonth} ${dates[this.language].months[month]} ${year}`);\n\n\n      this.picker.find(\"tfoot th.today\").\n        text(dates[this.language].today).\n        toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      let prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      let nextMonth = new Date(prevMonth.valueOf());\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      let html = [];\n      let clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push(\"<tr>\");\n          if (this.calendarWeeks) {\n            // adapted from https://github.com/timrwood/moment/blob/master/moment.js#L128\n            let a = new Date(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth(), prevMonth.getUTCDate() - prevMonth.getDay() + 10 - (this.weekStart && this.weekStart % 7 < 5 && 7)),\n                b = new Date(a.getFullYear(), 0, 4),\n                calWeek = ~~((a - b) / 864e5 / 7 + 1.5);\n            html.push(`<td class=\"cw\">${calWeek}</td>`);\n          }\n        }\n        clsName = ` ${this.onRender(prevMonth)} `;\n        if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\n          clsName += \" old\";\n        } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\n          clsName += \" new\";\n        }\n        // Compare internal UTC date with local today, not UTC today\n        if (this.todayHighlight &&\n                    prevMonth.getUTCFullYear() == today.getFullYear() &&\n                    prevMonth.getUTCMonth() == today.getMonth() &&\n                    prevMonth.getUTCDate() == today.getDate()) {\n          clsName += \" today\";\n        }\n        if (currentDate && prevMonth.valueOf() == currentDate) {\n          clsName += \" active\";\n        }\n        if (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate ||\n                    $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 ||\n                    $.inArray(prevMonth.valueOf(), this.datesDisabled) !== -1) {\n          clsName += \" disabled\";\n        }\n        html.push(`<td class=\"day${clsName}\">${prevMonth.getUTCDate()}</td>`);\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push(\"</tr>\");\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.picker.find(\".datepicker-days tbody\").empty().append(html.join(\"\"));\n\n      html = [];\n      for (var i = 0; i < 24; i++) {\n        var actual = UTCDate(year, month, dayMonth, i);\n        clsName = \"\";\n        // We want the previous hour for the startDate\n        if ((actual.valueOf() + 3600000) < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (hours == i) {\n          clsName += \" active\";\n        }\n        html.push(`<span class=\"hour${clsName}\">${i}:00</span>`);\n      }\n      this.picker.find(\".datepicker-hours td\").html(html.join(\"\"));\n\n      html = [];\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        var actual = UTCDate(year, month, dayMonth, hours, i);\n        clsName = \"\";\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += \" disabled\";\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n          clsName += \" active\";\n        }\n        html.push(`<span class=\"minute${clsName}\">${hours}:${i < 10 ? `0${i}` : i}</span>`);\n      }\n      this.picker.find(\".datepicker-minutes td\").html(html.join(\"\"));\n\n\n      let currentYear = this.date && this.date.getUTCFullYear();\n      let months = this.picker.find(\".datepicker-months\").\n        find(\"th:eq(1)\").\n        text(year).\n        end().\n        find(\"span\").removeClass(\"active\");\n      if (currentYear && currentYear == year) {\n        months.eq(this.date.getUTCMonth()).addClass(\"active\");\n      }\n      if (year < startYear || year > endYear) {\n        months.addClass(\"disabled\");\n      }\n      if (year == startYear) {\n        months.slice(0, startMonth).addClass(\"disabled\");\n      }\n      if (year == endYear) {\n        months.slice(endMonth + 1).addClass(\"disabled\");\n      }\n\n      html = \"\";\n      year = parseInt(year / 10, 10) * 10;\n      let yearCont = this.picker.find(\".datepicker-years\").\n        find(\"th:eq(1)\").\n        text(`${year}-${year + 9}`).\n        end().\n        find(\"td\");\n      year -= 1;\n      for (var i = -1; i < 11; i++) {\n        html += `<span class=\"year${i == -1 || i == 10 ? \" old\" : \"\"}${currentYear == year ? \" active\" : \"\"}${year < startYear || year > endYear ? \" disabled\" : \"\"}\">${year}</span>`;\n        year += 1;\n      }\n      yearCont.html(html);\n    },\n\n    updateNavArrows: function() {\n      let d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          day = d.getUTCDate(),\n          hour = d.getUTCHours();\n      switch (this.viewMode) {\n      case 0:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate() && hour <= this.startDate.getUTCHours()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate() && hour >= this.endDate.getUTCHours()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      case 1:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth() && day <= this.startDate.getUTCDate()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth() && day >= this.endDate.getUTCDate()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      case 2:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      case 3:\n      case 4:\n        if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n          this.picker.find(\".prev\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".prev\").css({\n            visibility: \"visible\"\n          });\n        }\n        if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n          this.picker.find(\".next\").css({\n            visibility: \"hidden\"\n          });\n        } else {\n          this.picker.find(\".next\").css({\n            visibility: \"visible\"\n          });\n        }\n        break;\n      }\n    },\n\n    click: function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      if ($(e.target).hasClass(\"datepicker-close\") || $(e.target).parent().hasClass(\"datepicker-close\")) {\n        this.hide();\n      }\n\n      let target = $(e.target).closest(\"span, td, th\");\n      if (target.length == 1) {\n        if (target.is(\".disabled\")) {\n          this.element.trigger({\n            type: \"outOfRange\",\n            date: this.viewDate,\n            startDate: this.startDate,\n            endDate: this.endDate\n          });\n          return;\n        }\n\n        switch (target[0].nodeName.toLowerCase()) {\n        case \"th\":\n          switch (target[0].className) {\n          case \"date-switch\":\n            this.showMode(1);\n            break;\n          case \"prev\":\n          case \"next\":\n            var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == \"prev\" ? -1 : 1);\n            switch (this.viewMode) {\n            case 0:\n              this.viewDate = this.moveHour(this.viewDate, dir);\n              break;\n            case 1:\n              this.viewDate = this.moveDate(this.viewDate, dir);\n              break;\n            case 2:\n              this.viewDate = this.moveMonth(this.viewDate, dir);\n              break;\n            case 3:\n            case 4:\n              this.viewDate = this.moveYear(this.viewDate, dir);\n              break;\n            }\n            this.fill();\n            break;\n          case \"today\":\n            var date = new Date();\n            date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n\n            this.viewMode = this.startViewMode;\n            this.showMode(0);\n            this._setDate(date);\n            break;\n          }\n          break;\n        case \"span\":\n          if (!target.is(\".disabled\")) {\n            if (target.is(\".month\")) {\n              if (this.minView === 3) {\n                var month = target.parent().find(\"span\").index(target) || 0;\n                var year = this.viewDate.getUTCFullYear(),\n                    day = 1,\n                    hours = this.viewDate.getUTCHours(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              } else {\n                this.viewDate.setUTCDate(1);\n                var month = target.parent().find(\"span\").index(target);\n                this.viewDate.setUTCMonth(month);\n                this.element.trigger({\n                  type: \"changeMonth\",\n                  date: this.viewDate\n                });\n              }\n            } else if (target.is(\".year\")) {\n              if (this.minView === 4) {\n                var year = parseInt(target.text(), 10) || 0;\n                var month = 0,\n                    day = 1,\n                    hours = this.viewDate.getUTCHours(),\n                    minutes = this.viewDate.getUTCMinutes(),\n                    seconds = this.viewDate.getUTCSeconds();\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              } else {\n                this.viewDate.setUTCDate(1);\n                var year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this.element.trigger({\n                  type: \"changeYear\",\n                  date: this.viewDate\n                });\n              }\n            } else if (target.is(\".hour\")) {\n              var hours = parseInt(target.text(), 10) || 0;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  minutes = this.viewDate.getUTCMinutes(),\n                  seconds = this.viewDate.getUTCSeconds();\n              this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n            } else if (target.is(\".minute\")) {\n              var minutes = parseInt(target.text().substr(target.text().indexOf(\":\") + 1), 10) || 0;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth(),\n                  day = this.viewDate.getUTCDate(),\n                  hours = this.viewDate.getUTCHours(),\n                  seconds = this.viewDate.getUTCSeconds();\n              this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n            }\n\n\n            if (this.viewMode != 0) {\n\n\n              var oldViewMode = this.viewMode;\n              this.showMode(-1);\n              this.fill();\n              if (oldViewMode == this.viewMode && this.autoclose) {\n                this.hide();\n              }\n            } else {\n              this.fill();\n              if (this.autoclose) {\n                this.hide();\n              }\n            }\n          }\n          break;\n        case \"td\":\n\n\n          if (target.is(\".day\") && !target.is(\".disabled\")) {\n            var day = parseInt(target.text(), 10) || 1;\n            var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n            if (target.is(\".old\")) {\n              if (month === 0) {\n                month = 11;\n                year -= 1;\n              } else {\n                month -= 1;\n              }\n            } else if (target.is(\".new\")) {\n              if (month == 11) {\n                month = 0;\n                year += 1;\n              } else {\n                month += 1;\n              }\n            }\n            this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n          }\n\n\n          var oldViewMode = this.viewMode;\n\n\n          this.showMode(-1);\n\n\n          this.fill();\n          if (oldViewMode == this.viewMode && this.autoclose) {\n            this.hide();\n          }\n          break;\n        }\n      }\n    },\n\n    _setDate: function(date, which) {\n\n      if (!which || which == \"date\")\n      {this.date = date;}\n      if (!which || which == \"view\")\n      {this.viewDate = date;}\n      this.fill();\n      this.setValue();\n      this.element.trigger({\n        type: \"changeDate\",\n        date: this.date\n      });\n      let element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find(\"input\");\n      }\n      if (element) {\n        element.change();\n        if (this.autoclose && (!which || which == \"date\")) {\n          // this.hide();\n        }\n      }\n    },\n\n    moveHour: function(date, dir) {\n      if (!dir) {return date;}\n      let new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n\n    moveDate: function(date, dir) {\n      if (!dir) {return date;}\n      let new_date = new Date(date.valueOf());\n      dir = dir > 0 ? 1 : -1;\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n\n    moveMonth: function(date, dir) {\n      if (!dir) {return date;}\n      let new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month, test;\n      dir = dir > 0 ? 1 : -1;\n      if (mag == 1) {\n        test = dir == -1\n        // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n          ? function() {\n            return new_date.getUTCMonth() == month;\n          }\n        // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n          : function() {\n            return new_date.getUTCMonth() != new_month;\n          };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month);\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n        if (new_month < 0 || new_month > 11)\n        {new_month = (new_month + 12) % 12;}\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (let i = 0; i < mag; i++)\n        // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n        {new_date = this.moveMonth(new_date, dir);}\n        // ...then reset the day, keeping it in the new month\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n        test = function() {\n          return new_month != new_date.getUTCMonth();\n        };\n      }\n      // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n      return new_date;\n    },\n\n    moveYear: function(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n\n    dateWithinRange: function(date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n\n    keydown: function(e) {\n      if (!this.keyboardNavigation) {\n        return true;\n      }\n      if (this.picker.is(\":not(:visible)\")) {\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\n        {this.show();}\n        return;\n      }\n      let dateChanged = false,\n          day, dir, month,\n          newDate, newViewDate;\n      switch (e.keyCode) {\n      case 27: // escape\n        this.hide();\n        e.preventDefault();\n        break;\n      case 37: // left\n      case 39: // right\n        if (!this.keyboardNavigation) {break;}\n        dir = e.keyCode == 37 ? -1 : 1;\n        if (e.ctrlKey) {\n          newDate = this.moveYear(this.date, dir);\n          newViewDate = this.moveYear(this.viewDate, dir);\n        } else if (e.shiftKey) {\n          newDate = this.moveMonth(this.date, dir);\n          newViewDate = this.moveMonth(this.viewDate, dir);\n        } else {\n          newDate = new Date(this.date.valueOf());\n          newDate.setUTCDate(this.date.getUTCDate() + dir);\n          newViewDate = new Date(this.viewDate.valueOf());\n          newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n        }\n        if (this.dateWithinRange(newDate)) {\n          this.date = newDate;\n          this.viewDate = newViewDate;\n          this.setValue();\n          this.update();\n          e.preventDefault();\n          dateChanged = true;\n        }\n        break;\n      case 38: // up\n      case 40: // down\n        if (!this.keyboardNavigation) {break;}\n        dir = e.keyCode == 38 ? -1 : 1;\n        if (e.ctrlKey) {\n          newDate = this.moveYear(this.date, dir);\n          newViewDate = this.moveYear(this.viewDate, dir);\n        } else if (e.shiftKey) {\n          newDate = this.moveMonth(this.date, dir);\n          newViewDate = this.moveMonth(this.viewDate, dir);\n        } else {\n          newDate = new Date(this.date.valueOf());\n          newDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n          newViewDate = new Date(this.viewDate.valueOf());\n          newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n        }\n        if (this.dateWithinRange(newDate)) {\n          this.date = newDate;\n          this.viewDate = newViewDate;\n          this.setValue();\n          this.update();\n          e.preventDefault();\n          dateChanged = true;\n        }\n        break;\n      case 13: // enter\n        this.hide();\n        e.preventDefault();\n        break;\n      case 9: // tab\n        this.hide();\n        break;\n      }\n      if (dateChanged) {\n        this.element.trigger({\n          type: \"changeDate\",\n          date: this.date\n        });\n        let element;\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find(\"input\");\n        }\n        if (element) {\n          element.change();\n        }\n      }\n    },\n\n    showMode: function(dir) {\n\n      if (dir) {\n        let newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.viewMode = newViewMode;\n        }\n      }\n\n      /*\n                vitalets: fixing bug of very special conditions:\n                jquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n                Method show() does not set display css correctly and datepicker is not shown.\n                Changed to .css('display', 'block') solve the problem.\n                See https://github.com/vitalets/x-editable/issues/37\n\n                In jquery 1.7.2+ everything works fine.\n            */\n      // this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n      this.picker.find(\">div\").hide().filter(`.datepicker-${DPGlobal.modes[this.viewMode].clsName}`).css(\"display\", \"block\");\n      this.updateNavArrows();\n    },\n\n    changeViewDate: function(date) {\n      this.date = date;\n      this.viewDate = date;\n      this.fill();\n    },\n\n    reset: function(e) {\n      this._setDate(null, \"date\");\n    }\n  };\n\n  $.fn.fdatepicker = function(option) {\n    let args = Array(...arguments);\n    args.shift();\n    return this.each(function() {\n      let $this = $(this),\n          data = $this.data(\"datepicker\"),\n          options = typeof option === \"object\" && option;\n      if (!data) {\n        $this.data(\"datepicker\", (data = new Datepicker(this, $.extend({}, $.fn.fdatepicker.defaults, options))));\n      }\n      if (typeof option === \"string\" && typeof data[option] === \"function\") {\n        data[option](...args);\n      }\n    });\n  };\n\n  $.fn.fdatepicker.defaults = {\n    onRender: function(date) {\n      return \"\";\n    }\n  };\n  $.fn.fdatepicker.Constructor = Datepicker;\n  var dates = $.fn.fdatepicker.dates = {\n    \"en\": {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      titleFormat: \"MM yyyy\"\n    }\n  };\n\n  var DPGlobal = {\n    modes: [{\n      clsName: \"minutes\",\n      navFnc: \"Hours\",\n      navStep: 1\n    }, {\n      clsName: \"hours\",\n      navFnc: \"Date\",\n      navStep: 1\n    }, {\n      clsName: \"days\",\n      navFnc: \"Month\",\n      navStep: 1\n    }, {\n      clsName: \"months\",\n      navFnc: \"FullYear\",\n      navStep: 1\n    }, {\n      clsName: \"years\",\n      navFnc: \"FullYear\",\n      navStep: 10\n    }],\n    isLeapYear: function(year) {\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\n    },\n    getDaysInMonth: function(year, month) {\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function(format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      let separators = format.replace(this.validParts, \"\\0\").split(\"\\0\"),\n          parts = format.match(this.validParts);\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n      this.formatText = format;\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function(date, format, language) {\n      if (date instanceof Date) {return new Date(date.valueOf() - date.getTimezoneOffset() * 60000);}\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd\");\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii\");\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat(\"yyyy-mm-dd hh:ii:ss\");\n      }\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n            parts = date.match(/([-+]\\d+)([dmwy])/g),\n            part, dir;\n        date = new Date();\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          switch (part[2]) {\n          case \"d\":\n            date.setUTCDate(date.getUTCDate() + dir);\n            break;\n          case \"m\":\n            date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n            break;\n          case \"w\":\n            date.setUTCDate(date.getUTCDate() + dir * 7);\n            break;\n          case \"y\":\n            date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n            break;\n          }\n        }\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n      }\n      var parts = date && date.match(this.nonpunctuation) || [],\n          date = new Date(),\n          parsed = {},\n          setters_order = [\"hh\", \"h\", \"ii\", \"i\", \"ss\", \"s\", \"yyyy\", \"yy\", \"M\", \"MM\", \"m\", \"mm\", \"d\", \"dd\"],\n          setters_map = {\n            hh: function(d, v) {\n              return d.setUTCHours(v);\n            },\n            h: function(d, v) {\n              return d.setUTCHours(v);\n            },\n            ii: function(d, v) {\n              return d.setUTCMinutes(v);\n            },\n            i: function(d, v) {\n              return d.setUTCMinutes(v);\n            },\n            ss: function(d, v) {\n              return d.setUTCSeconds(v);\n            },\n            s: function(d, v) {\n              return d.setUTCSeconds(v);\n            },\n            yyyy: function(d, v) {\n              return d.setUTCFullYear(v);\n            },\n            yy: function(d, v) {\n              return d.setUTCFullYear(2000 + v);\n            },\n            m: function(d, v) {\n              v -= 1;\n              while (v < 0) {v += 12;}\n              v %= 12;\n              d.setUTCMonth(v);\n              while (d.getUTCMonth() != v)\n              {d.setUTCDate(d.getUTCDate() - 1);}\n              return d;\n            },\n            d: function(d, v) {\n              return d.setUTCDate(v);\n            }\n          },\n          val, filtered, part;\n      setters_map.M = setters_map.MM = setters_map.mm = setters_map.m;\n      setters_map.dd = setters_map.d;\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0); // date.getHours(), date.getMinutes(), date.getSeconds());\n      if (parts.length == format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n          if (isNaN(val)) {\n            switch (part) {\n            case \"MM\":\n              filtered = $(dates[language].months).filter(function() {\n                let m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                return m == p;\n              });\n              val = $.inArray(filtered[0], dates[language].months) + 1;\n              break;\n            case \"M\":\n              filtered = $(dates[language].monthsShort).filter(function() {\n                let m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                return m == p;\n              });\n              val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n              break;\n            }\n          }\n          parsed[part] = val;\n        }\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s]))\n          {setters_map[s](date, parsed[s])}\n        }\n      }\n      return date;\n    },\n    formatDate: function(date, format, language) {\n      if (date == null) {\n        return \"\";\n      }\n      let val = {\n        h: date.getUTCHours(),\n        i: date.getUTCMinutes(),\n        s: date.getUTCSeconds(),\n        d: date.getUTCDate(),\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.hh = (val.h < 10 ? \"0\" : \"\") + val.h;\n      val.ii = (val.i < 10 ? \"0\" : \"\") + val.i;\n      val.ss = (val.s < 10 ? \"0\" : \"\") + val.s;\n      val.dd = (val.d < 10 ? \"0\" : \"\") + val.d;\n      val.mm = (val.m < 10 ? \"0\" : \"\") + val.m;\n      var date = [],\n          seps = $.extend([], format.separators);\n      for (let i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length)\n        {date.push(seps.shift())}\n        date.push(val[format.parts[i]]);\n      }\n      return date.join(\"\");\n    },\n    convertViewMode: function(viewMode) {\n      switch (viewMode) {\n      case 4:\n      case \"decade\":\n        viewMode = 4;\n        break;\n      case 3:\n      case \"year\":\n        viewMode = 3;\n        break;\n      case 2:\n      case \"month\":\n        viewMode = 2;\n        break;\n      case 1:\n      case \"day\":\n        viewMode = 1;\n        break;\n      case 0:\n      case \"hour\":\n        viewMode = 0;\n        break;\n      }\n\n      return viewMode;\n    },\n    headTemplate: function(leftArrow, rightArrow) {return (`${\"<thead>\" +\n            \"<tr>\" +\n            '<th class=\"prev\">'}${leftArrow}</th>` +\n            \"<th colspan=\\\"5\\\" class=\\\"date-switch\\\"></th>\" +\n            `<th class=\"next\">${rightArrow}</th>` +\n            \"</tr>\" +\n            \"</thead>\")},\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n  DPGlobal.template = function(leftArrow, rightArrow, closeIcon) {return (`${'<div class=\"datepicker\">' +\n        '<div class=\"datepicker-minutes\">' +\n        '<table class=\" table-condensed\">'}${\n    DPGlobal.headTemplate(leftArrow, rightArrow)\n  }${DPGlobal.contTemplate\n  }${DPGlobal.footTemplate\n  }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-hours\\\">\" +\n        `<table class=\" table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }${DPGlobal.contTemplate\n        }${DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-days\\\">\" +\n        `<table class=\" table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }<tbody></tbody>${\n          DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-months\\\">\" +\n        `<table class=\"table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }${DPGlobal.contTemplate\n        }${DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        \"<div class=\\\"datepicker-years\\\">\" +\n        `<table class=\"table-condensed\">${\n          DPGlobal.headTemplate(leftArrow, rightArrow)\n        }${DPGlobal.contTemplate\n        }${DPGlobal.footTemplate\n        }</table>` +\n        \"</div>\" +\n        `<a class=\"button datepicker-close tiny alert right\" style=\"width:auto;\">${closeIcon}</a>` +\n        \"</div>\")};\n\n  $.fn.fdatepicker.DPGlobal = DPGlobal;\n\n}(window.jQuery));\n"]},"metadata":{},"sourceType":"module"}