{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nimport AutoCompleteJS from \"@tarekraafat/autocomplete.js\";\nvar AutoComplete = /*#__PURE__*/function () {\n  function AutoComplete(el) {\n    var _this = this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, AutoComplete);\n    this.element = el;\n    this.stickySelectedSpan = null;\n    this.clearStickySelectionSpan = null;\n    this.stickyHiddenInput = null;\n    this.promptDiv = null;\n    var thresholdTemp = options.threshold || 2;\n    this.options = Object.assign({\n      // Defines name of the hidden input (e.g. assembly_member[user_id])\n      name: null,\n      // Placeholder of the visible input field\n      placeholder: \"\",\n      // Defines what happens after user has selected value from suggestions\n      // sticky - Allows selecting a single value and not editing the value after selected (e.g. as the admin autocomplete fields)\n      // single - Allows selecting a single value and editing the selected text after the selection (e.g. geocoding field)\n      // multi - Allows selecting multiple values\n      // null (default) - Disable selection event handling in this class\n      mode: null,\n      // Defines if we show input help (e.g. \"Type at least three characters to search\") or not.\n      searchPrompt: false,\n      // Defines search prompt message, only shown if showPrompt is enabled!\n      searchPromptText: \"Type at least \".concat(thresholdTemp, \" characters to search\"),\n      // Defines items that are selected already when page is loaded before user selects them. (e.g. when form submit fails)\n      selected: null,\n      // Defines how many characters input has to have before we start searching\n      threshold: thresholdTemp,\n      // Defines how many results to show in the autocomplete selection list\n      // by maximum.\n      maxResults: 10,\n      // Defines the data keys against which to match the user input when\n      // searching through the results. For example, when the following\n      // data is returned by the API:\n      //   { id: 123, name: \"John\", nickname: \"john\", __typename: \"User\" }\n      //\n      // You can define the data keys array as [\"name\", \"nickname\"] in\n      // which case the results shown to user would be only those that\n      // have matching text in these defined fields.\n      dataMatchKeys: null,\n      // The data source is a method that gets the callback parameter as\n      // its first argument which should be called with the results array\n      // once they are returned by the API.\n      // For example:\n      //   (query, callback) => {\n      //     (async () => {\n      //       const results = await callAjax(`/api/url?query=${query}`);\n      //       callback(results);\n      //     })();\n      //   }\n      //\n      // Signature: (callback: Function)\n      dataSource: function dataSource() {\n        return [];\n      },\n      // Filters the data list returned by the data source before it is shown\n      // to the user. Can be used e.g. to hide already selected values from\n      // the list.\n      dataFilter: null,\n      // Delay in milliseconds how long to wait after user action before\n      // doing a backend request.\n      delay: 200,\n      // Allows modifying the suggested items before they are displayed in the list\n      // Signature: (element: HTMLElement, value: Object)\n      modifyResult: null\n    }, options);\n    this.autocomplete = new AutoCompleteJS({\n      selector: function selector() {\n        return _this.element;\n      },\n      placeHolder: options.placeholder,\n      // Delay (milliseconds) before autocomplete engine starts. It's preventing many queries when user is typing fast.\n      debounce: 200,\n      threshold: this.options.threshold,\n      data: {\n        keys: this.options.dataMatchKeys,\n        src: function () {\n          var _src = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(query) {\n            var fetchResults;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    fetchResults = function fetchResults() {\n                      return new Promise(function (resolve) {\n                        _this.options.dataSource(query, resolve);\n                      });\n                    };\n                    _context.prev = 1;\n                    _context.next = 4;\n                    return fetchResults();\n                  case 4:\n                    return _context.abrupt(\"return\", _context.sent);\n                  case 7:\n                    _context.prev = 7;\n                    _context.t0 = _context[\"catch\"](1);\n                    return _context.abrupt(\"return\", _context.t0);\n                  case 10:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, null, [[1, 7]]);\n          }));\n          function src(_x) {\n            return _src.apply(this, arguments);\n          }\n          return src;\n        }(),\n        filter: function filter(list) {\n          if (_this.options.dataFilter) {\n            return _this.options.dataFilter(list);\n          }\n          return list;\n        }\n      },\n      resultsList: {\n        maxResults: this.options.maxResults\n      },\n      resultItem: {\n        element: function element(item, data) {\n          if (!_this.options.modifyResult) {\n            return;\n          }\n          _this.options.modifyResult(item, data.value);\n        }\n      },\n      events: {\n        input: {\n          blur: function blur() {\n            _this.promptDiv.style.display = \"none\";\n          }\n        }\n      }\n    });\n    this.acWrapper = this.element.closest(\".autoComplete_wrapper\");\n    this.element.ac = this.autocomplete;\n\n    // Stop input field from bubbling open and close events to parent elements,\n    // because foundation closes modal from these events.\n    var stopPropagation = function stopPropagation(event) {\n      event.stopPropagation();\n    };\n    this.element.addEventListener(\"close\", stopPropagation);\n    this.element.addEventListener(\"open\", stopPropagation);\n    this.createPromptDiv();\n    switch (this.options.mode) {\n      case \"sticky\":\n        this.createStickySelect(this.options.name);\n        break;\n      case \"multi\":\n        this.createMultiSelect(this.options.name);\n        break;\n      default:\n    }\n  }\n  _createClass(AutoComplete, [{\n    key: \"setInput\",\n    value: function setInput(value) {\n      this.autocomplete.input.value = value;\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      switch (this.options.mode) {\n        case \"single\":\n          this.setInput(event.detail.selection.value[event.detail.selection.key]);\n          break;\n        case \"sticky\":\n          this.handleStickyEvents(event);\n          break;\n        case \"multi\":\n          this.handleMultiEvents(event);\n          break;\n        default:\n      }\n    }\n  }, {\n    key: \"handleMultiEvents\",\n    value: function handleMultiEvents(event) {\n      switch (event.type) {\n        case \"selection\":\n          this.addMultiSelectItem(event.detail.selection);\n          break;\n        default:\n      }\n    }\n  }, {\n    key: \"handleStickyEvents\",\n    value: function handleStickyEvents(event) {\n      switch (event.type) {\n        case \"selection\":\n          this.addStickySelectItem(event.detail.selection);\n          break;\n        case \"click\":\n          if (event.target === this.clearStickySelectionSpan) {\n            this.removeStickySelection();\n          }\n          break;\n        case \"keyup\":\n          if (this.stickyHiddenInput.value !== \"\" && event.target === this.element && ([\"Escape\", \"Backspace\", \"Delete\"].includes(event.key) || /^[a-z0-9]$/i.test(event.key))) {\n            this.removeStickySelection();\n          } else if (this.options.searchPrompt) {\n            if (this.stickyHiddenInput.value === \"\" && this.element.value.length < this.options.threshold) {\n              this.promptDiv.style.display = \"block\";\n            } else {\n              this.promptDiv.style.display = \"none\";\n            }\n          }\n          break;\n        default:\n      }\n    }\n  }, {\n    key: \"createHiddenInput\",\n    value: function createHiddenInput(value) {\n      var hiddenInput = document.createElement(\"input\");\n      hiddenInput.name = this.options.name;\n      hiddenInput.type = \"hidden\";\n      if (value) {\n        hiddenInput.value = value;\n      }\n      this.acWrapper.prepend(hiddenInput);\n      return hiddenInput;\n    }\n  }, {\n    key: \"removeStickySelection\",\n    value: function removeStickySelection() {\n      this.stickyHiddenInput.value = \"\";\n      this.element.placeholder = this.options.placeholder;\n      this.clearStickySelectionSpan.style.display = \"none\";\n      this.stickySelectedSpan.style.display = \"none\";\n    }\n  }, {\n    key: \"addStickySelectItem\",\n    value: function addStickySelectItem(selection) {\n      this.stickyHiddenInput.value = selection.value.value;\n      this.element.placeholder = \"\";\n      this.stickySelectedSpan.innerHTML = selection.value[selection.key];\n      this.stickySelectedSpan.style.display = \"block\";\n      this.clearStickySelectionSpan.style.display = \"block\";\n      this.setInput(\"\");\n    }\n  }, {\n    key: \"addMultiSelectItem\",\n    value: function addMultiSelectItem(selection) {\n      var _this2 = this;\n      this.setInput(\"\");\n      var chosen = document.createElement(\"span\");\n      chosen.classList.add(\"label\", \"primary\", \"autocomplete__selected-item\", \"multi\");\n      chosen.innerHTML = selection.value[selection.key];\n      var clearSelection = document.createElement(\"span\");\n      clearSelection.classList.add(\"clear-multi-selection\");\n      clearSelection.innerHTML = \"&times;\";\n      clearSelection.setAttribute(\"data-remove\", selection.value.value);\n      clearSelection.addEventListener(\"click\", function (evt) {\n        var hiddenInput = _this2.acWrapper.querySelector(\"input[type='hidden'][value='\".concat(selection.value.value, \"']\"));\n        if (hiddenInput) {\n          hiddenInput.remove();\n          evt.target.parentElement.remove();\n        }\n      });\n      chosen.appendChild(clearSelection);\n      var multiSelectWrapper = this.acWrapper.querySelector(\".multiselect\");\n      var inputContainer = multiSelectWrapper.querySelector(\"span.input-container\");\n      multiSelectWrapper.insertBefore(chosen, inputContainer);\n      this.createHiddenInput(selection.value.value);\n    }\n  }, {\n    key: \"createStickySelect\",\n    value: function createStickySelect() {\n      var _this3 = this;\n      this.stickySelectedSpan = document.createElement(\"span\");\n      this.stickySelectedSpan.classList.add(\"autocomplete__selected-item\", \"sticky\");\n      this.stickySelectedSpan.style.display = \"none\";\n      this.stickySelectedSpan.addEventListener(\"click\", function () {\n        return _this3.element.focus();\n      });\n      this.stickyHiddenInput = this.createHiddenInput();\n      this.clearStickySelectionSpan = document.createElement(\"span\");\n      this.clearStickySelectionSpan.className = \"clear-sticky-selection\";\n      this.clearStickySelectionSpan.innerHTML = \"&times;\";\n      this.clearStickySelectionSpan.style.display = \"none\";\n      this.clearStickySelectionSpan.addEventListener(\"click\", this);\n      this.element.addEventListener(\"selection\", this);\n      this.element.addEventListener(\"keyup\", this);\n      this.acWrapper.insertBefore(this.clearStickySelectionSpan, this.element);\n      this.acWrapper.insertBefore(this.stickySelectedSpan, this.element);\n      if (this.options.selected) {\n        this.addStickySelectItem(this.options.selected);\n      }\n    }\n  }, {\n    key: \"createMultiSelect\",\n    value: function createMultiSelect() {\n      var _this4 = this;\n      var multiSelectWrapper = document.createElement(\"div\");\n      multiSelectWrapper.classList.add(\"multiselect\");\n      var inputContainer = document.createElement(\"span\");\n      inputContainer.classList.add(\"input-container\");\n      multiSelectWrapper.appendChild(inputContainer);\n      this.acWrapper.prepend(multiSelectWrapper);\n      inputContainer.appendChild(this.element);\n      this.element.addEventListener(\"selection\", this);\n      multiSelectWrapper.addEventListener(\"click\", function () {\n        _this4.element.focus();\n      });\n      if (this.options.selected) {\n        this.options.selected.forEach(function (selection) {\n          _this4.addMultiSelectItem(selection);\n        });\n      }\n    }\n  }, {\n    key: \"createPromptDiv\",\n    value: function createPromptDiv() {\n      this.promptDiv = document.createElement(\"div\");\n      this.promptDiv.classList.add(\"search-prompt\");\n      this.promptDiv.style.display = \"none\";\n      this.promptDiv.innerHTML = this.options.searchPromptText;\n      this.acWrapper.appendChild(this.promptDiv);\n    }\n  }]);\n  return AutoComplete;\n}();\nexport { AutoComplete as default };","map":{"version":3,"mappings":"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","names":["_regeneratorRuntime","Op","hasOwn","defineProperty","obj","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","value","enumerable","configurable","writable","define","generator","context","type","arg","exports","NativeIteratorPrototype","invoke","result","reject","state","done","tryLoc","record","next","__await","keys","constructor","reset","stop","dispatchException","hasFinally","abrupt","finallyEntry","complete","finish","resetTryEntry","delegateYield","iterator","resultName","nextLoc","resolve","Promise","args","asyncGeneratorStep","_next","descriptor","Object","AutoCompleteJS","AutoComplete","el","options","_classCallCheck","element","stickySelectedSpan","clearStickySelectionSpan","stickyHiddenInput","promptDiv","thresholdTemp","threshold","assign","name","placeholder","mode","searchPrompt","searchPromptText","selected","maxResults","dataMatchKeys","dataSource","dataFilter","delay","modifyResult","autocomplete","selector","_this","placeHolder","debounce","data","src","query","fetchResults","_context","filter","list","resultsList","resultItem","item","events","input","blur","style","display","acWrapper","closest","ac","stopPropagation","event","addEventListener","createPromptDiv","createStickySelect","createMultiSelect","_createClass","key","setInput","detail","selection","handleStickyEvents","handleMultiEvents","addMultiSelectItem","addStickySelectItem","target","removeStickySelection","includes","test","length","hiddenInput","document","createElement","prepend","innerHTML","chosen","classList","add","clearSelection","setAttribute","evt","_this2","querySelector","remove","parentElement","appendChild","multiSelectWrapper","inputContainer","insertBefore","createHiddenInput","_this3","focus","className","_this4","forEach"],"sources":["/home/alan/.rvm/gems/ruby-3.0.3/gems/decidim-core-0.27.0/app/packs/src/decidim/autocomplete.js"],"sourcesContent":["import AutoCompleteJS from \"@tarekraafat/autocomplete.js\";\n\nexport default class AutoComplete {\n  constructor(el, options = {}) {\n    this.element = el;\n    this.stickySelectedSpan = null;\n    this.clearStickySelectionSpan = null;\n    this.stickyHiddenInput = null;\n    this.promptDiv = null;\n    const thresholdTemp = options.threshold || 2;\n    this.options = Object.assign({\n      // Defines name of the hidden input (e.g. assembly_member[user_id])\n      name: null,\n      // Placeholder of the visible input field\n      placeholder: \"\",\n      // Defines what happens after user has selected value from suggestions\n      // sticky - Allows selecting a single value and not editing the value after selected (e.g. as the admin autocomplete fields)\n      // single - Allows selecting a single value and editing the selected text after the selection (e.g. geocoding field)\n      // multi - Allows selecting multiple values\n      // null (default) - Disable selection event handling in this class\n      mode: null,\n      // Defines if we show input help (e.g. \"Type at least three characters to search\") or not.\n      searchPrompt: false,\n      // Defines search prompt message, only shown if showPrompt is enabled!\n      searchPromptText: `Type at least ${thresholdTemp} characters to search`,\n      // Defines items that are selected already when page is loaded before user selects them. (e.g. when form submit fails)\n      selected: null,\n      // Defines how many characters input has to have before we start searching\n      threshold: thresholdTemp,\n      // Defines how many results to show in the autocomplete selection list\n      // by maximum.\n      maxResults: 10,\n      // Defines the data keys against which to match the user input when\n      // searching through the results. For example, when the following\n      // data is returned by the API:\n      //   { id: 123, name: \"John\", nickname: \"john\", __typename: \"User\" }\n      //\n      // You can define the data keys array as [\"name\", \"nickname\"] in\n      // which case the results shown to user would be only those that\n      // have matching text in these defined fields.\n      dataMatchKeys: null,\n      // The data source is a method that gets the callback parameter as\n      // its first argument which should be called with the results array\n      // once they are returned by the API.\n      // For example:\n      //   (query, callback) => {\n      //     (async () => {\n      //       const results = await callAjax(`/api/url?query=${query}`);\n      //       callback(results);\n      //     })();\n      //   }\n      //\n      // Signature: (callback: Function)\n      dataSource: () => [],\n      // Filters the data list returned by the data source before it is shown\n      // to the user. Can be used e.g. to hide already selected values from\n      // the list.\n      dataFilter: null,\n      // Delay in milliseconds how long to wait after user action before\n      // doing a backend request.\n      delay: 200,\n      // Allows modifying the suggested items before they are displayed in the list\n      // Signature: (element: HTMLElement, value: Object)\n      modifyResult: null\n    }, options);\n\n    this.autocomplete = new AutoCompleteJS({\n      selector: () => this.element,\n      placeHolder: options.placeholder,\n      // Delay (milliseconds) before autocomplete engine starts. It's preventing many queries when user is typing fast.\n      debounce: 200,\n      threshold: this.options.threshold,\n      data: {\n        keys: this.options.dataMatchKeys,\n        src: async (query) => {\n          const fetchResults = () => {\n            return new Promise((resolve) => {\n              this.options.dataSource(query, resolve);\n            });\n          }\n\n          try {\n            return await fetchResults();\n          } catch (error) {\n            return error;\n          }\n        },\n        filter: (list) => {\n          if (this.options.dataFilter) {\n            return this.options.dataFilter(list);\n          }\n\n          return list;\n        }\n      },\n      resultsList: {\n        maxResults: this.options.maxResults\n      },\n      resultItem: {\n        element: (item, data) => {\n          if (!this.options.modifyResult) {\n            return;\n          }\n\n          this.options.modifyResult(item, data.value);\n        }\n      },\n      events: {\n        input: {\n          blur: () => {\n            this.promptDiv.style.display = \"none\";\n          }\n        }\n      }\n    });\n\n    this.acWrapper = this.element.closest(\".autoComplete_wrapper\");\n    this.element.ac = this.autocomplete;\n\n    // Stop input field from bubbling open and close events to parent elements,\n    // because foundation closes modal from these events.\n    const stopPropagation = (event) => {\n      event.stopPropagation();\n    }\n    this.element.addEventListener(\"close\", stopPropagation);\n    this.element.addEventListener(\"open\", stopPropagation);\n\n    this.createPromptDiv();\n\n    switch (this.options.mode) {\n    case \"sticky\":\n      this.createStickySelect(this.options.name);\n      break;\n    case \"multi\":\n      this.createMultiSelect(this.options.name);\n      break;\n    default:\n    }\n  }\n\n  setInput(value) {\n    this.autocomplete.input.value = value;\n  }\n\n  handleEvent(event) {\n    switch (this.options.mode) {\n    case \"single\":\n      this.setInput(event.detail.selection.value[event.detail.selection.key]);\n      break;\n    case \"sticky\":\n      this.handleStickyEvents(event);\n      break;\n    case \"multi\":\n      this.handleMultiEvents(event);\n      break;\n    default:\n    }\n  }\n\n  handleMultiEvents(event) {\n    switch (event.type) {\n    case \"selection\":\n      this.addMultiSelectItem(event.detail.selection);\n      break;\n    default:\n    }\n  }\n\n  handleStickyEvents(event) {\n    switch (event.type) {\n    case \"selection\":\n      this.addStickySelectItem(event.detail.selection);\n      break;\n    case \"click\":\n      if (event.target === this.clearStickySelectionSpan) {\n        this.removeStickySelection();\n      }\n      break;\n    case \"keyup\":\n      if (this.stickyHiddenInput.value !== \"\" && event.target === this.element && ([\"Escape\", \"Backspace\", \"Delete\"].includes(event.key) || (/^[a-z0-9]$/i).test(event.key))) {\n        this.removeStickySelection();\n      } else if (this.options.searchPrompt) {\n        if (this.stickyHiddenInput.value === \"\" && this.element.value.length < this.options.threshold) {\n          this.promptDiv.style.display = \"block\";\n        } else {\n          this.promptDiv.style.display = \"none\";\n        }\n      }\n      break;\n    default:\n    }\n  }\n\n  createHiddenInput(value) {\n    const hiddenInput = document.createElement(\"input\");\n    hiddenInput.name = this.options.name;\n    hiddenInput.type = \"hidden\";\n    if (value) {\n      hiddenInput.value = value;\n    }\n    this.acWrapper.prepend(hiddenInput);\n    return hiddenInput;\n  }\n\n  removeStickySelection() {\n    this.stickyHiddenInput.value = \"\";\n    this.element.placeholder = this.options.placeholder;\n    this.clearStickySelectionSpan.style.display = \"none\";\n    this.stickySelectedSpan.style.display = \"none\";\n  }\n\n  addStickySelectItem(selection) {\n    this.stickyHiddenInput.value = selection.value.value;\n    this.element.placeholder = \"\";\n    this.stickySelectedSpan.innerHTML = selection.value[selection.key];\n    this.stickySelectedSpan.style.display = \"block\";\n    this.clearStickySelectionSpan.style.display = \"block\";\n    this.setInput(\"\");\n  }\n\n  addMultiSelectItem(selection) {\n    this.setInput(\"\");\n    const chosen = document.createElement(\"span\");\n    chosen.classList.add(\"label\", \"primary\", \"autocomplete__selected-item\", \"multi\");\n    chosen.innerHTML = selection.value[selection.key];\n    const clearSelection = document.createElement(\"span\");\n    clearSelection.classList.add(\"clear-multi-selection\");\n    clearSelection.innerHTML = \"&times;\";\n    clearSelection.setAttribute(\"data-remove\", selection.value.value);\n    clearSelection.addEventListener(\"click\", (evt) => {\n      const hiddenInput = this.acWrapper.querySelector(`input[type='hidden'][value='${selection.value.value}']`);\n      if (hiddenInput) {\n        hiddenInput.remove();\n        evt.target.parentElement.remove();\n      }\n    });\n    chosen.appendChild(clearSelection);\n\n    const multiSelectWrapper = this.acWrapper.querySelector(\".multiselect\");\n    const inputContainer = multiSelectWrapper.querySelector(\"span.input-container\");\n    multiSelectWrapper.insertBefore(chosen, inputContainer);\n    this.createHiddenInput(selection.value.value);\n  }\n\n  createStickySelect() {\n    this.stickySelectedSpan = document.createElement(\"span\");\n    this.stickySelectedSpan.classList.add(\"autocomplete__selected-item\", \"sticky\");\n    this.stickySelectedSpan.style.display = \"none\";\n    this.stickySelectedSpan.addEventListener(\"click\", () => this.element.focus());\n    this.stickyHiddenInput = this.createHiddenInput();\n\n    this.clearStickySelectionSpan = document.createElement(\"span\");\n    this.clearStickySelectionSpan.className = \"clear-sticky-selection\";\n    this.clearStickySelectionSpan.innerHTML = \"&times;\";\n    this.clearStickySelectionSpan.style.display = \"none\";\n    this.clearStickySelectionSpan.addEventListener(\"click\", this);\n\n    this.element.addEventListener(\"selection\", this);\n    this.element.addEventListener(\"keyup\", this);\n\n    this.acWrapper.insertBefore(this.clearStickySelectionSpan, this.element);\n    this.acWrapper.insertBefore(this.stickySelectedSpan, this.element);\n    if (this.options.selected) {\n      this.addStickySelectItem(this.options.selected);\n    }\n  }\n\n  createMultiSelect() {\n    const multiSelectWrapper = document.createElement(\"div\");\n    multiSelectWrapper.classList.add(\"multiselect\");\n\n    const inputContainer = document.createElement(\"span\");\n    inputContainer.classList.add(\"input-container\");\n\n    multiSelectWrapper.appendChild(inputContainer);\n    this.acWrapper.prepend(multiSelectWrapper);\n    inputContainer.appendChild(this.element);\n\n    this.element.addEventListener(\"selection\", this);\n    multiSelectWrapper.addEventListener(\"click\", () => {\n      this.element.focus();\n    })\n\n    if (this.options.selected) {\n      this.options.selected.forEach((selection) => {\n        this.addMultiSelectItem(selection);\n      })\n    }\n  }\n\n  createPromptDiv() {\n    this.promptDiv = document.createElement(\"div\");\n    this.promptDiv.classList.add(\"search-prompt\");\n    this.promptDiv.style.display = \"none\";\n    this.promptDiv.innerHTML = this.options.searchPromptText;\n    this.acWrapper.appendChild(this.promptDiv);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}